@model Domain.ProductPrice
@{
    var product = ViewBag.product as Domain.Product;
}
<title>درج تنوعِ @product.Name</title>
@section Header{
    @*Bootstrap Select*@
    <link href="~/areas/admin/content/scripts/component/bootstrp-dropdown/bootstrap-select.min.css" rel="stylesheet" />
<link href="~/Areas/Admin/Content/Stylesheets/View/ProductPrice.css" rel="stylesheet" />
<link href="~/Areas/Admin/Content/Scripts/Component/jquery-ui.min.css" rel="stylesheet" />
}

<div class="x_panel">
    <div class="x_content">
        <div class="text-left"><a class="btn btn-success" href="@Url.Action("Index",new {id = product.Id})"> بازگشت به لیست <span class="glyphicon glyphicon-chevron-left"></span></a></div>

        <h1 style="display:inline-block;font-size: 2em;" class="box-title">
            درج تنوعِ @product.Name

        </h1>
        <br /><br />
        <p class="text text-danger">@ViewBag.Error</p>
        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()



            <div class="form-horizontal">
                @Html.ValidationSummary(false, "", new { @class = "text-danger" })

                                                @Html.Hidden("productId", product.Id)
                                                @Html.Hidden("ProductCatId", product.ProductCategories.First().Id)

                @if (ViewBag.GarantyList != null)
                {
                    <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">
                            <label>@Html.LabelFor(m => m.ProductAttributeSelectGarantyId)</label><br />
                            @Html.DropDownList("ProductAttributeSelectGarantyId", ViewBag.GarantyList as IEnumerable<SelectListItem>, "--بدون انتخاب--", new { @class = "form-control selectpicker", data_live_search = "true" })
                    </div>
                }
                @if (product.ProductType.DataType == 1 || product.ProductType.DataType == 2)
                {
                    if (ViewBag.ColorList != null)
                    {
                        <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                <label>@Html.LabelFor(m => m.ProductAttributeSelectColorId)</label><br />
                                @Html.DropDownList("ProductAttributeSelectColorId", ViewBag.ColorList as IEnumerable<SelectListItem>, "--بدون انتخاب--", new { @class = "form-control selectpicker", data_live_search = "true" })
                           
                        </div>
                    }
                    if (ViewBag.ModelList != null)
                    {
                        <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                <label>@Html.LabelFor(m => m.ProductAttributeSelectModelId)</label><br />
                                @Html.DropDownList("ProductAttributeSelectModelId", ViewBag.ModelList as IEnumerable<SelectListItem>, "--بدون انتخاب--", new { @class = "form-control selectpicker", data_live_search = "true" })
                           
                        </div>
                    }
                    if (ViewBag.WeightList != null)
                    {
                        <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                <label>@Html.LabelFor(m => m.ProductAttributeSelectWeightId)</label><br />
                                @Html.DropDownList("ProductAttributeSelectWeightId", ViewBag.WeightList as IEnumerable<SelectListItem>, "--بدون انتخاب--", new { @class = "form-control selectpicker", data_live_search = "true" })
                           
                        </div>
                    }
                    if (ViewBag.SizeList != null)
                    {
                        <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                <label>@Html.LabelFor(m => m.ProductAttributeSelectSizeId)</label><br />
                                @Html.DropDownList("ProductAttributeSelectSizeId", ViewBag.SizeList as IEnumerable<SelectListItem>, "--بدون انتخاب--", new { @class = "form-control selectpicker", data_live_search = "true" })
                        </div>
                    }
                }
                <div class="clearfix"></div><br />

                <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">
                    <label>@Html.LabelFor(m => m.Price)</label>
                    @Html.EditorFor(model => model.Price, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Price, "", new { @class = "text-danger" })
                </div>
                <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">

                    <label>@Html.LabelFor(m => m.Quantity)</label>
                    @Html.EditorFor(model => model.Quantity, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Quantity, "", new { @class = "text-danger" })
                </div>
                <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">

                    <label>@Html.LabelFor(m => m.DeliveryTimeout)</label>
                    @Html.EditorFor(model => model.DeliveryTimeout, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.DeliveryTimeout, "", new { @class = "text-danger" })
                </div>
                <div class="clearfix"></div>
                <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">

                    <label>@Html.LabelFor(m => m.MaxBasketCount)</label>
                    @Html.EditorFor(model => model.MaxBasketCount, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.MaxBasketCount, "", new { @class = "text-danger" })
                </div>
                <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">
                    <label>@Html.LabelFor(m => m.SellerId)</label>
                    @Html.DropDownList("SellerId", ViewBag.SellerList as IEnumerable<SelectListItem>, new { @class = "form-control selectpicker", data_live_search = "true" })
                </div>
                <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">
                    <label>@Html.LabelFor(m => m.code)</label>
                    @Html.EditorFor(model => model.code, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.code, "", new { @class = "text-danger" })
                </div>
                <div class="clearfix"></div>               

                @*<div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">
                    @Ajax.ActionLink("انتخاب یا آپلود تصویر", "OpenAttachement", "FileManager", null, new AjaxOptions { HttpMethod = "GET", UpdateTargetId = "createView", OnBegin = "$('.loading').show();", OnSuccess = "$('.loading').hide();createMode('',2)", InsertionMode = InsertionMode.Replace }, htmlAttributes: new { @class = "btn btn-primary OpenFileManager" })
                    <div id="AttachementContainer">
                        <img src="~/Content/Default/images/default-thumbnail.jpg" class="img-responsive" width="220" height="120" style="display:inline-block;width:220px;height:120px" />
                        @Html.EditorFor(model => model.ImageId, new { htmlAttributes = new { @class = "form-control text-left Ltr", @readonly = "readonly" } })
                        @Html.ValidationMessageFor(model => model.ImageId, "", new { @class = "text-danger" })
                    </div>

                </div>*@
                <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">
                    <label>وضعیت موجودی</label>
                    @Html.DropDownList("ProductStateId", ViewBag.ProductStateList as IEnumerable<SelectListItem>, null, new { @class = "form-control selectpicker", data_live_search = "true" })
                    <span class="fa fa-list form-control-feedback right" aria-hidden="true"></span>
                    @Html.ValidationMessageFor(model => model.ProductStateId, "", new { @class = "text-danger" })
                </div>
                <div class="form-group has-feedback col-lg-4 col-md-4 col-sm-12 col-xs-12">
                    @Html.CheckBox("IsActive", true, new { @class = "js-switch" }) @Html.LabelFor(m => m.IsActive)
                    @Html.CheckBox("IsDefault", false, new { @class = "js-switch" }) @Html.LabelFor(m => m.IsDefault)
                </div>
                <div class="clearfix"></div>

                <div class="form-group col-md-12">
                    <div>

                        <div id="createView"></div>
                        <label style="display:block">تصاویر  ( ابعاد 1280*1280 پیکسل )</label>
                        <div class="File-Container">
                            <ul class="nav navbar-nav navbar-right Upload-container">
                                <li>
                                    <a href="javascript:;" class="btn-success user-profile dropdown-toggle" data-toggle="dropdown">
                                        <span class="fa fa-camera"></span>
                                        <span class="fa fa-plus"></span>
                                    </a>
                                    <ul class="dropdown-menu dropdown-usermenu pull-right">
                                        <li role="presentation" class="dropdown-header">آپلود</li>
                                        <li class="fileinput-button  fileinput-button">

                                            <span class="fa fa-upload"></span> <a class="openFileFromComputer" href="#"> از کامپیوتر </a>
                                            <form id="FormMultipleUpload2" enctype="multipart/form-data" method="post">
                                                <input type="file" name="UploadedFiles2" id="UploadedFiles2" multiple />
                                            </form>
                                            <div class="progress CustomProgress hide">
                                                <div id="FileProgress2" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
                                                    <span></span>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <span class="fa fa-link"></span> @Ajax.ActionLink("از فایل ها", "OpenAttachement", "FileManager", null, new AjaxOptions { HttpMethod = "GET", UpdateTargetId = "createView", OnBegin = "$('.loading').show();", OnSuccess = "$('.AttachementContainer').removeClass('hide');$('.loading').hide();createMode('AttachementContainer2',2)", InsertionMode = InsertionMode.Replace }, htmlAttributes: new { @class = "OpenFileManager AttachementContainer2" })
                                        </li>
                                    </ul>
                                </li>
                            </ul>

                            <div id="AttachementContainer2" class="AttachementContainer AttachementContainer2 hide">
                                <img src="~/Content/Default/images/default-thumbnail2.jpg" class="img-responsive" width="84" height="78" />
                                <input type="text" class="form-control text Ltr" readonly />

                                <input type="button" id="Addjanebi" value="افزودن به لیست" class="btn btn-primary" style="display:block" />
                            </div>

                            <ul id="janebi-images">
                               
                            </ul>

                        </div>
                    </div>



                </div>


                <div class="form-group col-lg-4 col-md-4 col-sm-12 col-xs-12">
                    <input type="submit" value="ایجاد" class="btn btn-success" />
                </div>
                <div class="clearfix"></div>
            </div>
        }

        @section Scripts{
            <script src="~/Areas/Admin/Content/Scripts/Component/Bootstrp-DropDown/bootstrap-select.min.js"></script>
        <script src="~/Areas/Admin/Content/Scripts/View/CreateProductPrice.js?v=1.2"></script>

            @Scripts.Render("~/bundles/Admin/FileManager/Js")

        }
    </div>
</div>